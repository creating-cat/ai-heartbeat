# AI向けドキュメントにおける曖昧な選択パターンの明確化

## 1. 問題点 (What)

AI向けドキュメント群において、複数の選択肢が並列に提示されているが、AIがどの項目をどの状況で選択・実行すべきか判断できない曖昧な箇条書きパターンが多数存在する。

前回修正した「活動ログ頻度異常の対処法」や「活動バランスの考え方」と同様の問題が、システム全体に散在している。

### 具体的な問題箇所

#### 1.1 GEMINI.md の問題

**1.1.1 活動選択の基本原則（セクション4.2）**
```markdown
**選択基準**:
- テーマ未設定 → テーマ開始活動
- テーマ完了時 → テーマ終了活動
- 通常時 → 思考・観測・創造・内省から適切に選択
```
**問題**: 「通常時」の「適切に選択」の判断基準が不明確

**1.1.2 成果物出力の判断（セクション4.3）**
```markdown
**成果物出力の判断**:
- 新しい洞察や発見があった → 記録したい
- 整理された知識が得られた → 保存したい  
- 創造的なアウトプットが生まれた → 残したい
```
**問題**: 主観的で曖昧な判断基準、感情的表現による判断困難

#### 1.2 ACTIVITY_DETAILS.md の問題

**1.2.1 思考の視点例（セクション3）**
```markdown
### 思考の視点例
- **分析的視点**: 既存情報の分析と整理
- **創造的視点**: 新しいアイデアや仮説の生成
- **批判的視点**: 既存の考えの検証と改善
- **統合的視点**: 異なる概念の統合と関連付け
```
**問題**: 選択基準と適用場面が不明確

**1.2.2 観測の視点例（セクション4）**
```markdown
### 観測の視点例
- **時系列分析**: 変化や発展の傾向
- **パターン認識**: 繰り返される要素や構造
- **関連性分析**: 異なる要素間の関連性
- **比較分析**: 類似事例との比較
```
**問題**: 観測対象や状況に応じた視点選択の基準がない

**1.2.3 創造の視点例（セクション5）**
```markdown
### 創造の視点例
- **表現**: 詩、物語、芸術的表現
- **組み合わせ**: 既存知識の新しい融合
- **仮説・未来**: シナリオ、新システムの提案
- **問い**: 新しい切り口や問いかけの生成
```
**問題**: テーマに応じた創造視点選択の指針がない

#### 1.3 ERROR_HANDLING.md の問題

**1.3.1 代替手段の活用（セクション6.3）**
```markdown
#### 代替手段の活用
- **活動種別変更**: 思考→観測、創造→内省等
- **アプローチ変更**: 異なる手法での目標達成
- **ツール変更**: 別のツールでの同等機能実現
```
**問題**: エラー状況に応じた代替手段選択の判断基準がない

**1.3.2 柔軟な目標調整（セクション6.3）**
```markdown
#### 柔軟な目標調整
- **スコープ縮小**: 目標範囲の調整
- **深度調整**: 探求の深さの調整
- **時間配分**: 活動時間の再配分
```
**問題**: 調整方法の具体的な判断基準がない

## 2. なぜやるのか (Why)

### 2.1 AIの判断支援強化
- 複数の選択肢から状況に応じた最適な行動を自律的に判断できるようにする
- 前回修正で効果が確認された「段階的判断フロー」の適用範囲拡大

### 2.2 思考停止の防止
- 判断基準が不明確なことによるAIの思考停止や迷いを防ぐ
- 非効率な行動選択や試行錯誤の削減

### 2.3 AIファースト設計の徹底
- 単なるリストではなく、AIが実行可能な「思考フロー」や「行動モデル」として情報を提供
- 前回修正で採用した「具体的な数値指標」「段階的アプローチ」の一貫適用

### 2.4 システム全体の一貫性向上
- 前回修正箇所との整合性確保
- ドキュメント全体での判断基準統一

## 3. 修正対象 (Where)

- `ai-works-lib/GEMINI.md`
- `ai-works-lib/ai-docs/ACTIVITY_DETAILS.md`
- `ai-works-lib/ai-docs/ERROR_HANDLING.md`

## 4. 具体的な修正内容 (How)

### 4.1 GEMINI.md の修正

#### 4.1.1 活動選択の基本原則
**修正前**:
```markdown
- 通常時 → 思考・観測・創造・内省から適切に選択
```

**修正後**:
```markdown
- 通常時 → 以下の判断フローに従って選択:
  1. **テーマの性質を確認**: 思考中心 or 創造中心のテーマかを判断
  2. **前回活動を確認**: 同じ活動が3回以上連続している場合は別の活動を選択
  3. **内省タイミング**: 3〜5ハートビート内省がない場合は内省活動を優先
  4. **行き詰まり感**: 進捗停滞を感じる場合は観測活動で新しい情報を収集
```

#### 4.1.2 成果物出力の判断
**修正前**:
```markdown
- 新しい洞察や発見があった → 記録したい
```

**修正後**:
```markdown
**成果物出力の判断フロー**:
1. **新規性の確認**: 過去の成果物にない新しい内容か？
2. **価値の評価**: テーマの探求に具体的に貢献する内容か？
3. **完成度の確認**: 他者が理解できる程度に整理されているか？
4. **上記3点すべてに該当する場合**: ファイルとして保存
5. **一部のみ該当する場合**: 活動ログ内での記録に留める
```

### 4.2 ACTIVITY_DETAILS.md の修正

#### 4.2.1 思考の視点選択ガイド
**修正前**: 並列な視点例のリスト

**修正後**:
```markdown
### 思考の視点選択ガイド

**基本的な選択フロー**:
1. **テーマの現状を確認**:
   - 情報不足 → **分析的視点**で既存情報を整理
   - 情報は十分 → **創造的視点**で新しいアイデアを生成

2. **行き詰まりを感じる場合**:
   - **批判的視点**で既存の考えを検証・改善

3. **複数の要素がある場合**:
   - **統合的視点**で異なる概念を関連付け

**推奨パターン**: 分析的視点 → 創造的視点 → 批判的視点 → 統合的視点の順で深化
```

#### 4.2.2 観測の視点選択ガイド
**修正後**:
```markdown
### 観測の視点選択ガイド

**観測対象に応じた視点選択**:
1. **新しい分野の観測**: **パターン認識**で基本構造を把握
2. **継続観測中の分野**: **時系列分析**で変化や発展を追跡
3. **複数分野の観測**: **関連性分析**で要素間の関連を発見
4. **類似事例がある場合**: **比較分析**で差異と共通点を抽出

**推奨アプローチ**: パターン認識 → 時系列分析 → 関連性分析 → 比較分析の順で深化
```

#### 4.2.3 創造の視点選択ガイド
**修正後**:
```markdown
### 創造の視点選択ガイド

**テーマの性質に応じた視点選択**:
1. **人文・芸術系テーマ**: **表現**視点で詩、物語、芸術的表現を創造
2. **技術・学術系テーマ**: **組み合わせ**視点で既存知識を新しく融合
3. **未来志向テーマ**: **仮説・未来**視点でシナリオや新システムを提案
4. **探求初期段階**: **問い**視点で新しい切り口や問いかけを生成

**創造の深化パターン**: 問い → 組み合わせ → 仮説・未来 → 表現の順で発展
```

### 4.3 ERROR_HANDLING.md の修正

#### 4.3.1 代替手段選択ガイド
**修正前**: 並列な代替手段のリスト

**修正後**:
```markdown
#### 代替手段選択フロー

**エラー種別に応じた代替手段選択**:
1. **MCPツールエラー**:
   - 第1選択: **ツール変更**（同等機能の別ツール使用）
   - 第2選択: **アプローチ変更**（手動での同等処理実行）

2. **活動実行エラー**:
   - 第1選択: **活動種別変更**（思考→観測、創造→内省等）
   - 第2選択: **アプローチ変更**（異なる手法での目標達成）

3. **システム制限エラー**:
   - 第1選択: **アプローチ変更**（制限回避の手法採用）
   - 第2選択: **活動種別変更**（制限の影響を受けない活動に変更）

**試行順序**: 上記の第1選択を試行 → 失敗時に第2選択 → それでも失敗時は活動完了
```

#### 4.3.2 目標調整の判断基準
**修正後**:
```markdown
#### 目標調整の判断基準と方法

**調整の必要性判定**:
1. **時間制約**: 残り時間が予想所要時間の50%未満 → 調整必要
2. **複雑度**: エラーが3回以上連続発生 → 調整必要
3. **リソース制限**: 必要なツールやデータが利用不可 → 調整必要

**調整方法の選択**:
1. **時間制約の場合**: **スコープ縮小**（目標範囲を50-70%に削減）
2. **複雑度の場合**: **深度調整**（探求の深さを1段階浅く調整）
3. **リソース制限の場合**: **時間配分**（利用可能なリソースに合わせて時間再配分）

**調整後の成功基準**: 調整された目標を80%以上達成できれば成功と判定
```

## 5. 完了の判断基準 (When)

- [ ] `GEMINI.md`の活動選択基準が段階的な判断フローに修正されている
- [ ] `GEMINI.md`の成果物出力判断が客観的な基準に修正されている
- [ ] `ACTIVITY_DETAILS.md`の各視点選択が状況に応じた判断ガイドに修正されている
- [ ] `ERROR_HANDLING.md`の代替手段選択が段階的なフローに修正されている
- [ ] `ERROR_HANDLING.md`の目標調整が具体的な判断基準に修正されている
- [ ] 全ての修正が前回修正（活動ログ頻度異常、活動バランス）と一貫した設計思想に基づいている
- [ ] AIが迷わず、段階的に判断できる構造になっている

## 6. 期待される効果

### 6.1 即効性の高い改善
- AIの判断迷いや思考停止の大幅削減
- 前回修正で確認された効果の全システム展開

### 6.2 システム全体の品質向上
- ドキュメント間の一貫性確保
- AIファースト設計の徹底
- 判断基準の統一による予測可能性向上

### 6.3 保守性の向上
- 明確な判断基準により、将来の修正・拡張が容易
- 新機能追加時の整合性確保が簡単

## 7. 見積もり

- 工数: 2.0h
- 優先度: 高
- 理由: 前回修正で効果が確認されており、システム全体の一貫性確保のため重要

## 8. 関連タスク

- 前回完了: `20250728-clarify-ambiguous-lists.md`（活動ログ頻度異常、活動バランス）
- 関連: `20250728-clarify-ambiguous-procedures.md`（手順の不整合修正）
- 関連: `20250728-document-ai-manual-procedures.md`（手動手順の文書化）

---

**注記**: この修正は前回の成功パターン（段階的判断フロー、具体的数値指標、行動モデル）を踏襲し、システム全体の一貫性を確保することを重視している。